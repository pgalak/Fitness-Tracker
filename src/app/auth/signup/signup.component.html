<section class="signup-form">
  <form 
    [formGroup]="signupForm" 
    (ngSubmit)="onSubmit()" 
    fxLayout="column" 
    fxLayoutAlign="center center"
    fxLayoutGap="10px">
    <mat-form-field>
      <input 
        type="email" 
        formControlName="email" 
        matInput 
        placeholder="Your email*"
        #emailInput>
        <mat-error *ngIf="emailInput.value?.length === 0">Field must not be empty.</mat-error>
      <mat-error *ngIf="!signupForm.get('email').valid">E-mail is invalid</mat-error>
    </mat-form-field>
    <mat-form-field hintLabel="Should be at least 6 characters long.">
      <input 
        type="password" 
        formControlName="password" 
        matInput 
        placeholder="Your password*"
        #passwordInput
        >
      <mat-hint align="end">{{ passwordInput.value?.length }}/6</mat-hint>
    </mat-form-field>
    <mat-form-field>
      <input 
        matInput 
        formControlName="birthDate"
        placeholder="Your birthdate" 
        [matDatepicker]="picker"
        required
        [max]="maxDate">
      <mat-datepicker-toggle 
        matSuffix 
        [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
    <mat-checkbox 
      formControlName="conditions" 
      required
      color="warn">Agree to terms and conditions.</mat-checkbox>
    <button 
      *ngIf="!isLoading"
      type="submit" 
      mat-raised-button 
      color="primary"
      [disabled]="!signupForm.valid">Submit</button>
      <mat-spinner *ngIf="isLoading"></mat-spinner>
  </form>
</section>


